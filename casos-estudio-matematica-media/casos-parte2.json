[
  {
    "id": "caso-media-03",
    "titulo": "Diseño de Caja con Volumen Máximo",
    "dominio": "Geometría + Funciones",
    "nivel_dificultad": "alto",
    "contexto": "Una fábrica tiene láminas cuadradas de cartón de 40 cm × 40 cm. Para fabricar cajas sin tapa, se recortan cuadrados iguales en las cuatro esquinas y se doblan las pestañas hacia arriba. El problema es determinar qué tamaño deben tener los cuadrados recortados para que la caja tenga el MÁXIMO volumen posible.",
    "problema": "¿Cuál debe ser el lado del cuadrado recortado en cada esquina para maximizar el volumen de la caja?",
    "desarrollo": {
      "paso_1": {
        "titulo": "Definir variable y dimensiones",
        "contenido": "Sea x = lado del cuadrado recortado (en cm)\n\nDespués de cortar y doblar:\n- Base de la caja: (40 - 2x) × (40 - 2x)\n- Altura de la caja: x\n\nRestricciones: 0 < x < 20 (si x ≥ 20, no queda base)"
      },
      "paso_2": {
        "titulo": "Plantear función de volumen",
        "contenido": "Volumen = Base × Altura\n\nV(x) = (40 - 2x)² × x\nV(x) = (1600 - 160x + 4x²) × x\nV(x) = 1600x - 160x² + 4x³\nV(x) = 4x³ - 160x² + 1600x",
        "formula": "$$V(x) = 4x^3 - 160x^2 + 1600x$$"
      },
      "paso_3": {
        "titulo": "Encontrar máximo usando cálculo (derivada)",
        "contenido": "Para encontrar el máximo, derivamos e igualamos a cero:\n\nV'(x) = 12x² - 320x + 1600\n\nIgualamos a cero:\n12x² - 320x + 1600 = 0\n\nDividimos por 4:\n3x² - 80x + 400 = 0\n\nUsamos fórmula cuadrática:\nx = [80 ± √(6400 - 4800)] / 6\nx = [80 ± √1600] / 6\nx = [80 ± 40] / 6\n\nx₁ = 120/6 = 20 cm (no válido, elimina toda la base)\nx₂ = 40/6 ≈ 6.67 cm ✓",
        "formula": "$$x = \\frac{80 \\pm 40}{6} \\Rightarrow x \\approx 6.67 \\text{ cm}$$"
      },
      "paso_4": {
        "titulo": "Calcular dimensiones y volumen máximo",
        "contenido": "Con x ≈ 6.67 cm:\n\nBase: 40 - 2(6.67) = 40 - 13.34 = 26.66 cm\nAltura: 6.67 cm\n\nDimensiones de la caja: 26.66 cm × 26.66 cm × 6.67 cm\n\nVolumen máximo:\nV(6.67) = 4(6.67)³ - 160(6.67)² + 1600(6.67)\nV(6.67) ≈ 4741 cm³ ≈ 4.74 litros"
      },
      "paso_5": {
        "titulo": "Verificación con otros valores",
        "contenido": "Comparemos con otros valores de x:\n\n- Si x = 5 cm: V(5) = 4000 cm³\n- Si x = 6.67 cm: V(6.67) ≈ 4741 cm³ ← MÁXIMO\n- Si x = 8 cm: V(8) = 4608 cm³\n- Si x = 10 cm: V(10) = 4000 cm³\n\nSe confirma que x ≈ 6.67 cm da el volumen máximo"
      }
    },
    "grafico_sugerido": "Gráfico 3D de V(x) = 4x³ - 160x² + 1600x mostrando el máximo en x ≈ 6.67. También diagrama del cartón con los recortes",
    "ia_sugerida": {
      "objetivo": "Usar IA para visualizar el problema y explorar optimización",
      "prompts_pedagogicos": [
        {
          "titulo": "Visualización 3D",
          "prompt": "¿Puedes ayudarme a visualizar o describir cómo se ve una lámina de 40×40 cm después de recortar cuadrados de x cm en las esquinas? ¿Cómo se forma la caja al doblar?"
        },
        {
          "titulo": "Verificar derivada",
          "prompt": "Tengo la función V(x) = 4x³ - 160x² + 1600x. Calculé que su derivada es V'(x) = 12x² - 320x + 1600. ¿Puedes verificar si esto es correcto?"
        },
        {
          "titulo": "Graficar función",
          "prompt": "¿Puedes graficar la función V(x) = 4x³ - 160x² + 1600x en el intervalo [0, 20] y mostrarme dónde está el máximo?"
        },
        {
          "titulo": "Problemas similares",
          "prompt": "Genera un problema similar de optimización de volumen pero con una lámina rectangular de diferentes dimensiones (por ejemplo, 50 cm × 30 cm)"
        }
      ],
      "analisis_ia": {
        "titulo": "Herramientas IA para geometría 3D",
        "recomendaciones": [
          "GeoGebra 3D: Modelar la caja y ver cómo cambia con diferentes valores de x",
          "Wolfram Alpha: Calcular derivadas y graficar funciones automáticamente",
          "ChatGPT con DALL-E: Generar diagramas explicativos del problema",
          "Desmos 3D: Visualizar la función de volumen"
        ]
      }
    },
    "conexiones_curriculares": {
      "geometria": "Cálculo de volúmenes, visualización espacial",
      "funciones": "Función cúbica, optimización, máximos",
      "calculo": "Derivadas para encontrar puntos críticos (nivel avanzado)"
    },
    "preguntas_reflexion": [
      "¿Por qué la función de volumen es cúbica y no cuadrática?",
      "¿Qué sucede con el volumen cuando x se acerca a 0 o a 20?",
      "Si la lámina fuera de 60×60 cm, ¿el valor óptimo de x sería el doble (13.34 cm)?",
      "¿Cómo cambiaría el problema si la caja TUVIERA tapa?"
    ]
  },
  {
    "id": "caso-media-04",
    "titulo": "Crecimiento Bacterial y Modelamiento Exponencial",
    "dominio": "Funciones Exponenciales",
    "nivel_dificultad": "medio",
    "contexto": "Un laboratorio estudia una bacteria que se reproduce por división celular. Comenzaron con 500 bacterias a las 8:00 AM. Midieron la población cada hora:\n\n- 8:00 AM: 500 bacterias\n- 9:00 AM: 700 bacterias\n- 10:00 AM: 980 bacterias\n- 11:00 AM: 1372 bacterias\n- 12:00 PM: 1921 bacterias\n\nEl patrón sugiere crecimiento exponencial.",
    "problema": "a) Determina la función exponencial que modela el crecimiento. b) Predice cuántas bacterias habrá a las 3:00 PM. c) ¿A qué hora habrá aproximadamente 10,000 bacterias?",
    "desarrollo": {
      "paso_1": {
        "titulo": "Identificar el modelo exponencial",
        "contenido": "Modelo general: P(t) = P₀ · bᵗ\n\nDonde:\n- P₀ = población inicial = 500\n- b = factor de crecimiento (a determinar)\n- t = tiempo en horas desde las 8:00 AM\n\nEntonces: P(t) = 500 · bᵗ"
      },
      "paso_2": {
        "titulo": "Calcular el factor de crecimiento b",
        "contenido": "Usamos el dato de t = 1 (9:00 AM):\n\nP(1) = 700\n500 · b¹ = 700\n500b = 700\nb = 700/500\nb = 1.4\n\nVerificamos con t = 2:\nP(2) = 500 · (1.4)² = 500 · 1.96 = 980 ✓\n\nLa función es: P(t) = 500 · (1.4)ᵗ",
        "formula": "$$P(t) = 500 \\cdot (1.4)^t$$"
      },
      "paso_3": {
        "titulo": "Interpretar el factor de crecimiento",
        "contenido": "b = 1.4 significa:\n\n1.4 = 1 + 0.4 = 1 + 40%\n\nLa población crece un 40% cada hora\n\nTasa de crecimiento: r = 0.40 (40% por hora)"
      },
      "paso_4": {
        "titulo": "Predecir población a las 3:00 PM",
        "contenido": "3:00 PM es 7 horas después de las 8:00 AM\nEntonces t = 7\n\nP(7) = 500 · (1.4)⁷\nP(7) = 500 · 10.541\nP(7) ≈ 5,270 bacterias",
        "formula": "$$P(7) = 500 \\cdot (1.4)^7 \\approx 5270 \\text{ bacterias}$$"
      },
      "paso_5": {
        "titulo": "Determinar cuándo habrá 10,000 bacterias",
        "contenido": "Queremos encontrar t tal que P(t) = 10,000\n\n500 · (1.4)ᵗ = 10,000\n(1.4)ᵗ = 10,000/500\n(1.4)ᵗ = 20\n\nAplicamos logaritmo en ambos lados:\nt · log(1.4) = log(20)\nt = log(20) / log(1.4)\nt = 1.301 / 0.146\nt ≈ 8.91 horas\n\n8.91 horas ≈ 8 horas 55 minutos después de las 8:00 AM\n\nRespuesta: Aproximadamente a las 4:55 PM",
        "formula": "$$t = \\frac{\\log(20)}{\\log(1.4)} \\approx 8.91 \\text{ horas}$$"
      },
      "verificacion": {
        "contenido": "Verificamos: P(8.91) = 500 · (1.4)⁸·⁹¹ ≈ 500 · 20 = 10,000 ✓\n\nTabla de crecimiento:\n\n| Hora | t | Población |\n|------|---|----------|\n| 8:00 AM | 0 | 500 |\n| 9:00 AM | 1 | 700 |\n| 10:00 AM | 2 | 980 |\n| 12:00 PM | 4 | 1,921 |\n| 3:00 PM | 7 | 5,270 |\n| 4:55 PM | 8.91 | 10,000 |"
      }
    },
    "grafico_sugerido": "Gráfico exponencial P(t) = 500·(1.4)ᵗ mostrando curva de crecimiento y puntos de datos observados",
    "ia_sugerida": {
      "objetivo": "Usar IA para análisis de datos exponenciales y predicciones",
      "prompts_pedagogicos": [
        {
          "titulo": "Verificar ajuste del modelo",
          "prompt": "Tengo estos datos de población bacterial [insertar datos]. Propuse el modelo P(t) = 500·(1.4)ᵗ. ¿Puedes verificar si este modelo se ajusta bien a los datos observados?"
        },
        {
          "titulo": "Calcular logaritmos",
          "prompt": "Necesito resolver (1.4)ᵗ = 20 para encontrar t. ¿Puedes ayudarme paso a paso usando logaritmos?"
        },
        {
          "titulo": "Graficar con datos reales",
          "prompt": "¿Puedes graficar la función P(t) = 500·(1.4)ᵗ junto con los puntos de datos observados [insertar] para visualizar qué tan bien se ajusta el modelo?"
        },
        {
          "titulo": "Explorar otros escenarios",
          "prompt": "Si la tasa de crecimiento fuera del 50% en lugar de 40%, ¿cómo cambiaría la función y cuánto más rápido llegaríamos a 10,000 bacterias?"
        }
      ],
      "analisis_ia": {
        "titulo": "Herramientas IA para modelamiento exponencial",
        "recomendaciones": [
          "Excel/Sheets + IA: Ajuste de curva exponencial automático",
          "Python con matplotlib: Graficar datos y modelo",
          "Wolfram Alpha: Resolver ecuaciones exponenciales",
          "ChatGPT Code Interpreter: Análisis completo de ajuste de modelo"
        ]
      }
    },
    "conexiones_curriculares": {
      "funciones_exponenciales": "Crecimiento exponencial, base y exponente",
      "logaritmos": "Resolver ecuaciones exponenciales",
      "modelamiento": "Ajustar modelos matemáticos a datos reales",
      "ciencias": "Crecimiento poblacional, biología"
    },
    "preguntas_reflexion": [
      "¿Por qué el crecimiento bacterial es exponencial y no lineal?",
      "¿Qué factores del mundo real limitarían este crecimiento exponencial indefinido?",
      "Si la población inicial fuera 1000 en lugar de 500, ¿cambiaría el factor b?",
      "¿Cómo se relaciona la tasa de crecimiento (40%) con la base b = 1.4?"
    ]
  },
  {
    "id": "caso-media-05",
    "titulo": "Probabilidad Condicional en Diagnóstico Médico",
    "dominio": "Probabilidad",
    "nivel_dificultad": "alto",
    "contexto": "Un test médico para detectar una enfermedad tiene las siguientes características:\n\n- Sensibilidad (test positivo cuando la persona ESTÁ enferma): 95%\n- Especificidad (test negativo cuando la persona NO está enferma): 90%\n- Prevalencia de la enfermedad en la población: 2%\n\nUna persona se hace el test y sale POSITIVO. ¿Cuál es la probabilidad de que realmente esté enferma?",
    "problema": "Calcular P(Enfermo | Test+), la probabilidad de estar enfermo dado que el test salió positivo.",
    "desarrollo": {
      "paso_1": {
        "titulo": "Definir eventos y probabilidades conocidas",
        "contenido": "Eventos:\n- E: La persona está enferma\n- T+: El test sale positivo\n- T-: El test sale negativo\n\nDatos:\n- P(E) = 0.02 (prevalencia 2%)\n- P(no E) = 0.98 (98% sano)\n- P(T+ | E) = 0.95 (sensibilidad)\n- P(T- | no E) = 0.90 (especificidad)\n- P(T+ | no E) = 0.10 (falso positivo)"
      },
      "paso_2": {
        "titulo": "Aplicar Teorema de Bayes",
        "contenido": "Queremos: P(E | T+)\n\nTeorema de Bayes:\nP(E | T+) = [P(T+ | E) · P(E)] / P(T+)\n\nPrimero debemos calcular P(T+) usando probabilidad total",
        "formula": "$$P(E|T^+) = \\frac{P(T^+|E) \\cdot P(E)}{P(T^+)}$$"
      },
      "paso_3": {
        "titulo": "Calcular P(T+) usando probabilidad total",
        "contenido": "P(T+) = P(T+ | E)·P(E) + P(T+ | no E)·P(no E)\n\nP(T+) = (0.95)(0.02) + (0.10)(0.98)\nP(T+) = 0.019 + 0.098\nP(T+) = 0.117\n\nEs decir, 11.7% de la población tendrá test positivo",
        "formula": "$$P(T^+) = 0.117$$"
      },
      "paso_4": {
        "titulo": "Calcular P(E | T+)",
        "contenido": "Ahora aplicamos Bayes:\n\nP(E | T+) = [P(T+ | E) · P(E)] / P(T+)\n\nP(E | T+) = [(0.95)(0.02)] / 0.117\n\nP(E | T+) = 0.019 / 0.117\n\nP(E | T+) ≈ 0.162 = 16.2%",
        "formula": "$$P(E|T^+) = \\frac{0.019}{0.117} \\approx 0.162 = 16.2\\%$$"
      },
      "paso_5": {
        "titulo": "Interpretación del resultado",
        "contenido": "RESULTADO SORPRENDENTE:\n\nAunque el test salió positivo, la probabilidad de estar realmente enfermo es solo del 16.2%\n\n¿Por qué tan baja?\n\n1. La enfermedad es RARA (solo 2% de prevalencia)\n2. El 10% de falsos positivos en una población de 98% sanos genera MUCHOS falsos positivos\n3. De 10,000 personas:\n   - 200 están enfermas → 190 tendrán test+ (sensibilidad 95%)\n   - 9,800 están sanas → 980 tendrán test+ (falso positivo 10%)\n   - Total test+: 190 + 980 = 1,170\n   - De esos 1,170 positivos, solo 190 están realmente enfermos\n   - 190/1,170 ≈ 16.2% ✓\n\nCONCLUSIÓN: Un test positivo NO es definitivo cuando la enfermedad es rara, incluso con un test bastante preciso"
      }
    },
    "grafico_sugerido": "Diagrama de árbol mostrando todas las probabilidades condicionales, o tabla de contingencia 2×2",
    "ia_sugerida": {
      "objetivo": "Usar IA para entender probabilidad condicional y verificar cálculos Bayesianos",
      "prompts_pedagogicos": [
        {
          "titulo": "Verificar aplicación de Bayes",
          "prompt": "Tengo un problema de probabilidad condicional [describir contexto]. Apliqué el Teorema de Bayes y obtuve P(E|T+) = 16.2%. ¿Puedes verificar si mi cálculo es correcto?"
        },
        {
          "titulo": "Visualizar con tabla",
          "prompt": "¿Puedes ayudarme a crear una tabla de contingencia 2×2 con 10,000 personas para visualizar este problema de test médico con sensibilidad 95%, especificidad 90% y prevalencia 2%?"
        },
        {
          "titulo": "Explorar otros escenarios",
          "prompt": "Si la prevalencia de la enfermedad aumentara al 20% (en lugar de 2%), ¿cómo cambiaría P(E|T+)? ¿Sería más confiable el test positivo?"
        },
        {
          "titulo": "Intuición vs matemática",
          "prompt": "¿Por qué intuitivamente esperaríamos que P(E|T+) fuera cercano a 95% (la sensibilidad), pero matemáticamente resulta ser solo 16.2%? Explica la paradoja."
        }
      ],
      "analisis_ia": {
        "titulo": "Herramientas IA para probabilidad Bayesiana",
        "recomendaciones": [
          "ChatGPT: Explicar conceptos de probabilidad condicional paso a paso",
          "Wolfram Alpha: Calcular probabilidades Bayesianas automáticamente",
          "Python: Simular 10,000 casos para verificar resultado teórico",
          "Diagramas de árbol interactivos: Visualizar todas las ramas"
        ]
      }
    },
    "conexiones_curriculares": {
      "probabilidad_condicional": "Teorema de Bayes, probabilidad total",
      "aplicaciones_reales": "Medicina, epidemiología, toma de decisiones",
      "pensamiento_critico": "Interpretación de resultados contra-intuitivos"
    },
    "preguntas_reflexion": [
      "¿Por qué es importante considerar la prevalencia de la enfermedad al interpretar un test?",
      "¿Qué pasaría con P(E|T+) si la especificidad fuera 99% en lugar de 90%?",
      "En enfermedades muy raras (prevalencia 0.1%), ¿puede un test positivo ser menos confiable aún?",
      "¿Cómo se relaciona este problema con los falsos positivos en otros contextos (seguridad, control de calidad)?"
    ]
  }
]
